{"componentChunkName":"component---packages-blog-gatsby-blog-core-src-templates-post-js","path":"/automatic-cloud-data-backup-to-usb-drive-with-rclone-and-raspberry-pi-4/","result":{"data":{"post":{"id":"24db511c-9515-54e8-9ed1-2b7ec84ac3f2","title":"Automatic cloud data backup to USB drive with Rclone & Raspberry Pi 4","slug":"/automatic-cloud-data-backup-to-usb-drive-with-rclone-and-raspberry-pi-4/","link":null,"excerpt":"First, ssh to you your pi device: Log in as superuser and create folders: Note that working dirâ€¦","tableOfContents":{"items":[{"url":"#set-up-rclone","title":"Set up rclone"},{"url":"#mount-remote-google-drive-and-usb-drive","title":"Mount remote google drive and USB drive"}]},"timeToRead":1,"featured":null,"protected":null,"thumbnailText":"The logo of Raspberry Pi","date":"September 18, 2022","category":{"id":"db7b1531-05ab-5b2c-a045-fa4588a03101","name":"Raspberry Pi","slug":"/category/raspberry-pi/","color":null,"icon":null},"author":{"id":"b21b4c96-bb41-58f1-aea0-1964dbeb2177","name":"Evgeni Leonti","slug":"/author/evgeni-leonti/","title":"Software Engineer","description":null,"skills":[],"social":null,"thumbnail":{"__typename":"ImageSharp","ImageSharp_small":{"layout":"fixed","placeholder":{"fallback":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20preserveAspectRatio='none'%3e%3cpath%20d='M22%203c-2%201-3%204-4%207l-2%205c-2%202-2%202-2-1l-2-3c-1%200-1%202%202%208%200%202%202%203%204%204%202%200%203%202%203%203h1c1-1%201-2-2-4l-4-5h1l2%201v-2c-2-1-2-1%200-1l2-2c0-6%204-9%2011-9%204%200%204%200%205%204v16c-1%201-1%201%200%200%202-3%203-11%201-19l-1-5h-6c-5%200-7%200-9%203m4%2023l3%202%203%201-2%203-2%203-4-4-5-4v21h18l-1-5c0-6%201-5%203%201l1%204v-5l-1-9c0-3-1-4-2-5-2-1-2-1-2%201%202%203%202%205%201%207-1%201-1-1-1-9%200-1-1-2-3-1l-4-1h-2'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e"},"images":{"fallback":{"src":"/static/04950f7ed043f1a244fab5d255f967a3/a7a66/john_doe_cf5a539c00.png","srcSet":"/static/04950f7ed043f1a244fab5d255f967a3/a7a66/john_doe_cf5a539c00.png 48w,\n/static/04950f7ed043f1a244fab5d255f967a3/416a0/john_doe_cf5a539c00.png 96w","sizes":"48px"},"sources":[{"srcSet":"/static/04950f7ed043f1a244fab5d255f967a3/a3542/john_doe_cf5a539c00.webp 48w,\n/static/04950f7ed043f1a244fab5d255f967a3/0f66d/john_doe_cf5a539c00.webp 96w","type":"image/webp","sizes":"48px"}]},"width":48,"height":48},"ImageSharp_regular":{"layout":"fixed","placeholder":{"fallback":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20preserveAspectRatio='none'%3e%3cpath%20d='M22%203c-2%201-3%204-4%207l-2%205c-2%202-2%202-2-1l-2-3c-1%200-1%202%202%208%200%202%202%203%204%204%202%200%203%202%203%203h1c1-1%201-2-2-4l-4-5h1l2%201v-2c-2-1-2-1%200-1l2-2c0-6%204-9%2011-9%204%200%204%200%205%204v16c-1%201-1%201%200%200%202-3%203-11%201-19l-1-5h-6c-5%200-7%200-9%203m4%2023l3%202%203%201-2%203-2%203-4-4-5-4v21h18l-1-5c0-6%201-5%203%201l1%204v-5l-1-9c0-3-1-4-2-5-2-1-2-1-2%201%202%203%202%205%201%207-1%201-1-1-1-9%200-1-1-2-3-1l-4-1h-2'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e"},"images":{"fallback":{"src":"/static/04950f7ed043f1a244fab5d255f967a3/46e60/john_doe_cf5a539c00.png","srcSet":"/static/04950f7ed043f1a244fab5d255f967a3/46e60/john_doe_cf5a539c00.png 150w,\n/static/04950f7ed043f1a244fab5d255f967a3/d612b/john_doe_cf5a539c00.png 300w","sizes":"150px"},"sources":[{"srcSet":"/static/04950f7ed043f1a244fab5d255f967a3/ae23d/john_doe_cf5a539c00.webp 150w,\n/static/04950f7ed043f1a244fab5d255f967a3/bd37b/john_doe_cf5a539c00.webp 300w","type":"image/webp","sizes":"150px"}]},"width":150,"height":150}}},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"First, ssh to you your pi device:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"ssh pi@raspberrypi.local\\n\")), mdx(\"p\", null, \"Log in as superuser and create folders:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"sudo su\\ncd ~\\nmkdir usb-backup-folder\\nmkdir drive-backup-folder\\n\")), mdx(\"p\", null, \"Note that working dir should be: home/pi (or ~ in case you did sudo su befoe)\"), mdx(\"h2\", {\n    \"id\": \"set-up-rclone\"\n  }, \"Set up rclone\"), mdx(\"p\", null, \"Run config command and follow the interactive cli configuration. For more details about configuration rclone to work with google drive check this howtogeek tutorial.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"rclone config\\n\")), mdx(\"h2\", {\n    \"id\": \"mount-remote-google-drive-and-usb-drive\"\n  }, \"Mount remote google drive and USB drive\"), mdx(\"p\", null, \"Mount remote google drive cloud to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"drive-backup-folder\"), \" and USB drive to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"usb-backup-folder\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"rclone mount google-drive: drive-backup-folder --daemon\\nmount /dev/sda2 usb-backup-folder/\\n\")), mdx(\"p\", null, \"Copy from remote google drive to a local folder:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"rclone copy --update --verbose --transfers 30 --checkers 8 --contimeout 60s --timeout 300s --retries 3 --low-level-retries 10 --stats 1s \\\"google-drive:\\\" \\\"usb-backup-folder\\\"\\n\")), mdx(\"p\", null, \"Important note about rclone copy command:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Copy the source to the destination. Does not transfer files that are identical on source and destination, testing by size and modification time or MD5SUM. Doesn\\u2019t delete files from the destination. If you want to also delete files from destination, to make it match source, use the sync command instead.\")), mdx(\"hr\", null), mdx(\"p\", null, \"We would like to automate and schedule this process. TO BE CONTINUED\"));\n}\n;\nMDXContent.isMDXComponent = true;","keywords":[],"tags":[],"thumbnail":{"__typename":"ImageSharp","ImageSharp_vertical":{"layout":"constrained","backgroundColor":"#486878","images":{"fallback":{"src":"/static/f9c998b58ca8b186bbb16d6c203db743/19188/Raspi_PGB_001_78a81ca263.png","srcSet":"/static/f9c998b58ca8b186bbb16d6c203db743/db297/Raspi_PGB_001_78a81ca263.png 190w,\n/static/f9c998b58ca8b186bbb16d6c203db743/19188/Raspi_PGB_001_78a81ca263.png 380w","sizes":"(min-width: 380px) 380px, 100vw"},"sources":[{"srcSet":"/static/f9c998b58ca8b186bbb16d6c203db743/228d6/Raspi_PGB_001_78a81ca263.webp 190w,\n/static/f9c998b58ca8b186bbb16d6c203db743/6b99c/Raspi_PGB_001_78a81ca263.webp 380w","type":"image/webp","sizes":"(min-width: 380px) 380px, 100vw"}]},"width":380,"height":290},"ImageSharp_hero":{"layout":"constrained","backgroundColor":"#486878","images":{"fallback":{"src":"/static/f9c998b58ca8b186bbb16d6c203db743/64f4d/Raspi_PGB_001_78a81ca263.png","srcSet":"/static/f9c998b58ca8b186bbb16d6c203db743/156f0/Raspi_PGB_001_78a81ca263.png 500w,\n/static/f9c998b58ca8b186bbb16d6c203db743/64f4d/Raspi_PGB_001_78a81ca263.png 1000w","sizes":"(min-width: 1000px) 1000px, 100vw"},"sources":[{"srcSet":"/static/f9c998b58ca8b186bbb16d6c203db743/e3a40/Raspi_PGB_001_78a81ca263.webp 500w,\n/static/f9c998b58ca8b186bbb16d6c203db743/29b4f/Raspi_PGB_001_78a81ca263.webp 1000w","type":"image/webp","sizes":"(min-width: 1000px) 1000px, 100vw"}]},"width":1600,"height":649.6}}},"categoryPosts":{"nodes":[]},"previous":{"id":"0b249b43-bcfa-5617-9f11-2c0d83a40f61","slug":"/deploying-multiple-services-on-a-single-aws-elastic-beanstalk-application/","title":"Deploying multiple services on a single AWS Elastic Beanstalk Application"},"next":{"id":"199b97b2-5a99-5b0c-a95e-4a42997d6371","slug":"/wanago-io-s-series-is-the-ultimate-nest-js-guide/","title":"Wanago.io's series is the ultimate NestJS guide"}},"pageContext":{"id":"24db511c-9515-54e8-9ed1-2b7ec84ac3f2","categoryId":"db7b1531-05ab-5b2c-a045-fa4588a03101","tagsIds":[],"hasTags":false,"previousId":"0b249b43-bcfa-5617-9f11-2c0d83a40f61","paginatePostsPage":true,"basePath":"/","services":{"algolia":true,"mailchimp":false,"disqus":false,"graphComment":true,"facebookComment":false},"siteUrl":null,"mobileMenu":{"title":"Topics","items":[{"name":"Backend","slug":"/category/backend/"},{"name":"Frontend","slug":"/category/frontend/"},{"name":"Devops","slug":"/category/devops/"},{"name":"Raspberry Pi","slug":"/category/raspberry-pi/"},{"name":"Beginners","slug":"/category/beginners/"}]},"darkMode":true,"includeExcerpt":true,"includeTimeToRead":true,"includeTableOfContents":true,"imageQuality":75}},"staticQueryHashes":["1992822086","2409295108","2918496967","2981853053","4235339838","4240507859"]}